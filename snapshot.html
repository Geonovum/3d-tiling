<!DOCTYPE html><html lang="nl"><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="generator" content="ReSpec 34.1.4">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
  
  
  
  
  
<script>document.title = respecConfig.title</script>
<title>Handreiking 3D Tiling</title>
  
<title>TODO: Vul hier de titel in</title>
  
<link rel="shortcut icon" type="image/x-icon" href="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.ico">
  
  
  
<style>
div.imageinfo img {max-width: none;}
</style>

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline;position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-.7em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<style id="respec-nlgov">
img.license{float:left;padding-right:5px}
</style>
<meta name="description" content="Deze handreiking biedt een uitgebreide verkenning van 3D tiling, een techniek
voor het efficiënt opslaan, serveren en visualiseren van driedimensionale
gegevens.">
<style>

  .sidelabel {
    position: fixed;
    -webkit-transform-origin: top right;
    right: 100%;
    top: 0;
    -webkit-transform: rotate(-90deg);
    padding: 4px 50px 4px 10px;
    color: white;
    white-space: nowrap;
    z-index: 1;
    background-color: #FF0000;
  }
</style>
<script type="text/javascript">
   /* Any custom mermaid.js scripts will go here. */
  </script>
<style>

  /* Any custom mermaid.js scripts will go here. */
  }
</style>
<script id="initialUserConfig" type="application/json">{
  "nl_organisationName": "Geonovum",
  "nl_organisationPublishURL": "https://docs.geostandaarden.nl/",
  "logos": [
    {
      "src": "https://tools.geostandaarden.nl/respec/style/logos/Geonovum.svg",
      "alt": "Geonovum",
      "id": "Geonovum",
      "height": 67,
      "width": 132,
      "url": "https://www.geonovum.nl/geo-standaarden"
    }
  ],
  "postProcess": [
    null
  ],
  "latestVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName",
    "/"
  ],
  "thisVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "specStatus",
    "-",
    "specType",
    "-",
    "shortName",
    "-",
    "publishDate"
  ],
  "prevVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "previousMaturity",
    "-",
    "specType",
    "-",
    "shortName",
    "-",
    "previousPublishDate"
  ],
  "useLogo": true,
  "useLabel": true,
  "license": "cc-by",
  "addSectionLinks": true,
  "localizationStrings": {
    "en": {
      "wv": "Editor's draft",
      "cv": "Candidate recommendation",
      "vv": "Proposed recommendation",
      "def": "Recommendation",
      "basis": "Document",
      "no": "Norm",
      "st": "Standard",
      "im": "Information model",
      "pr": "Practical guideline",
      "hr": "Guide",
      "wa": "Work process agreement",
      "al": "General",
      "bd": "Governance documentation",
      "bp": "Best practice"
    },
    "nl": {
      "wv": "Werkversie",
      "cv": "Consultatieversie",
      "vv": "Versie ter vaststelling",
      "def": "Vastgestelde versie",
      "basis": "Document",
      "no": "Norm",
      "st": "Standaard",
      "im": "Informatiemodel",
      "pr": "Praktijkrichtlijn",
      "hr": "Handreiking",
      "wa": "Werkafspraak",
      "al": "Algemeen",
      "bd": "Beheerdocumentatie",
      "bp": "Best practice"
    }
  },
  "sotdText": {
    "nl": {
      "sotd": "Status van dit document",
      "def": "Dit is de definitieve versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "wv": "Dit is een werkversie die op elk moment kan worden gewijzigd, verwijderd of vervangen door andere documenten. Het is geen stabiel document.",
      "cv": "Dit is een consultatieversie. Commentaar over dit document kan gestuurd worden naar ",
      "vv": "Dit is de definitieve conceptversie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "basis": "Dit is een document zonder officiële status."
    },
    "en": {
      "sotd": "Status of this document",
      "def": "This is the definitive version of this document. Edits resulting from consultations have been applied.",
      "wv": "This is a working draft that can be changed, removed or replaced by other documents at any time. It is not a stable document.",
      "cv": "This is a stable draft, published for public comment. Comments regarding this document may be sent to ",
      "vv": "This is the final draft of this document. Edits resulting from consultations have been applied.",
      "basis": "This document has no official standing."
    }
  },
  "labelColor": {
    "def": "#045D9F",
    "wv": "#FF0000",
    "cv": "#045D9F",
    "vv": "#045D9F",
    "basis": "#80CC28"
  },
  "licenses": {
    "cc0": {
      "name": "Creative Commons 0 Public Domain Dedication",
      "short": "CC0",
      "url": "https://creativecommons.org/publicdomain/zero/1.0/",
      "image": "https://tools.geostandaarden.nl/respec/style/logos/CC-Licentie.svg"
    },
    "cc-by": {
      "name": "Creative Commons Attribution 4.0 International Public License",
      "short": "CC-BY",
      "url": "https://creativecommons.org/licenses/by/4.0/legalcode",
      "image": "https://tools.geostandaarden.nl/respec/style/logos/cc-by.svg"
    },
    "cc-by-nd": {
      "name": "Creative Commons Naamsvermelding-GeenAfgeleideWerken 4.0 Internationaal",
      "short": "CC-BY-ND",
      "url": "https://creativecommons.org/licenses/by-nd/4.0/legalcode.nl",
      "image": "https://tools.geostandaarden.nl/respec/style/logos/cc-by-nd.svg"
    }
  },
  "localBiblio": {
    "SemVer": {
      "href": "https://semver.org",
      "title": "Semantic Versioning 2.0.0",
      "authors": [
        "T. Preston-Werner"
      ],
      "date": "June 2013"
    }
  },
  "title": "Handreiking 3D Tiling",
  "specStatus": "wv",
  "specType": "HR",
  "pubDomain": "3d-tiling",
  "licence": "cc-by",
  "shortName": "3d-tiling",
  "editors": [
    {
      "name": "Geonovum",
      "company": "Geonovum",
      "companyURL": "https://www.geonovum.nl"
    }
  ],
  "authors": [
    {
      "name": "voornaam achternaam",
      "company": "organisatie",
      "companyURL": "https://www.geonovum.nl"
    },
    {
      "name": "voornaam achternaam",
      "company": "organisatie",
      "companyURL": "https://www.geonovum.nl"
    },
    {
      "name": "voornaam achternaam",
      "company": "organisatie",
      "companyURL": "https://www.geonovum.nl"
    },
    {
      "name": "voornaam achternaam",
      "company": "organisatie",
      "companyURL": "https://www.geonovum.nl"
    }
  ],
  "github": "https://github.com/Geonovum/3d-tiling"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css"></head>
  
<body class="h-entry informative toc-inline"><div class="head">
    <a class="logo" href="https://www.geonovum.nl/geo-standaarden"><img alt="Geonovum" height="67" id="Geonovum" src="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.svg" width="132">
  </a> <h1 id="title" class="title">Handreiking 3D Tiling</h1>
    
    <h2>
      Geonovum Handreiking<br>
      Werkversie
      <time class="dt-published" datetime="2024-04-12">12 april 2024</time>
    </h2>
    <dl>
      
      
      <dt>Laatste werkversie:</dt><dd><a href="https://geonovum.github.io/3d-tiling/">https://geonovum.github.io/3d-tiling/</a></dd>
      
      
      
      
      
      <dt>Redacteur:</dt>
      <dd class="editor p-author h-card vcard">
    <span class="p-name fn">Geonovum</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">Geonovum</a>)
  </dd>
      
      <dt>Auteurs:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">voornaam achternaam</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">organisatie</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">voornaam achternaam</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">organisatie</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">voornaam achternaam</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">organisatie</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">voornaam achternaam</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">organisatie</a>)
  </dd>
      <dt>Doe mee:</dt><dd>
    <a href="https://github.com/Geonovum/3d-tiling/">GitHub Geonovum/3d-tiling</a>
  </dd><dd>
    <a href="https://github.com/Geonovum/3d-tiling/issues/">Dien een melding in</a>
  </dd><dd>
    <a href="https://github.com/Geonovum/3d-tiling/commits/">Revisiehistorie</a>
  </dd><dd>
    <a href="https://github.com/Geonovum/3d-tiling/pulls/">Pull requests</a>
  </dd>
    </dl>
    
    
    
    <p class="copyright">
          Dit document valt onder de volgende licentie: 
          <a rel="license" href="https://creativecommons.org/licenses/by/4.0/legalcode" class="subfoot"><img class="license" src="https://tools.geostandaarden.nl/respec/style/logos/cc-by.svg" alt="Logo Creative Commons Attribution 4.0 International Public License"><br> Creative Commons Attribution 4.0 International Public License</a>
        </p>
    <hr title="Separator for header">
  </div>
  <section id="abstract" class="introductory"><h2>Samenvatting</h2><p>Deze handreiking biedt een uitgebreide verkenning van 3D tiling, een techniek
voor het efficiënt opslaan, serveren en visualiseren van driedimensionale
gegevens.</p>
<p>De handreiking begint met een algemene introductie tot 3D tiling, waarbij de
voordelen en toepassingsgebieden worden belicht. Praktijkvoorbeelden illustreren
de veelzijdigheid van 3D tiling in diverse domeinen, van GIS tot digitale
tweelingen.</p>
<p>Vervolgens worden de belangrijkste standaarden voor 3D tiling behandeld. De
techniek van 3D tiling wordt gedetailleerd beschreven, waaronder formaten zoals
het 3D Tiles-schema en tegelformaten.</p>
<p>Best practices worden gedeeld voor zowel klanten (consumers), data-aanbieders
(providers) als ontwikkelaars (developers), met aandacht voor optimalisatie van
prestaties en gebruiksgemak. Hierbij worden enkele aspecten voor het genereren,
serveren en gebruiken van 3D tiles uitgelicht.</p>
<p>Ten slotte bevat de handreiking een uitgebreide toolkit met referenties naar
handleidingen, clients, servers en 3D Tile datasets, waardoor lezers worden
voorzien van de nodige bronnen om aan de slag te gaan met 3D tiling in hun
projecten.</p>
</section>
  <section id="sotd" class="introductory"><h2>Status van dit document</h2><p>Dit is een werkversie die op elk moment kan worden gewijzigd, verwijderd of vervangen door andere documenten. Het is geen stabiel document.</p></section><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Samenvatting</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status van dit document</a></li><li class="tocline"><a class="tocxref" href="#inleiding"><bdi class="secno">1. </bdi>Inleiding</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#wat-is-3d-tiling"><bdi class="secno">1.1 </bdi>Wat is 3D Tiling?</a></li><li class="tocline"><a class="tocxref" href="#waar-is-3d-tiling-voor-te-gebruiken"><bdi class="secno">1.2 </bdi>Waar is 3D Tiling voor te gebruiken?</a></li><li class="tocline"><a class="tocxref" href="#wat-zijn-de-voor-en-nadelen-van-3d-tiling"><bdi class="secno">1.3 </bdi>Wat zijn de voor- en nadelen van 3D Tiling?</a></li></ol></li><li class="tocline"><a class="tocxref" href="#standaarden"><bdi class="secno">2. </bdi>Standaarden</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#ogc-3d-tiles-specification"><bdi class="secno">2.1 </bdi>OGC 3D Tiles specification</a></li><li class="tocline"><a class="tocxref" href="#i3s"><bdi class="secno">2.2 </bdi>i3S</a></li><li class="tocline"><a class="tocxref" href="#ogc-3d-tiles"><bdi class="secno">2.3 </bdi>OGC 3D Tiles</a></li><li class="tocline"><a class="tocxref" href="#techniek"><bdi class="secno">2.4 </bdi>Techniek</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#tegelformaten"><bdi class="secno">2.4.1 </bdi>Tegelformaten</a></li><li class="tocline"><a class="tocxref" href="#mediatypes-en-encoding"><bdi class="secno">2.4.2 </bdi>Mediatypes en encoding</a></li><li class="tocline"><a class="tocxref" href="#requests"><bdi class="secno">2.4.3 </bdi>Requests</a></li></ol></li><li class="tocline"><a class="tocxref" href="#i3ds"><bdi class="secno">2.5 </bdi>i3DS</a></li></ol></li><li class="tocline"><a class="tocxref" href="#praktijkvoorbeelden"><bdi class="secno">3. </bdi>Praktijkvoorbeelden</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#placeholder-project-1"><bdi class="secno">3.1 </bdi>Placeholder project 1</a></li><li class="tocline"><a class="tocxref" href="#placeholder-project-2"><bdi class="secno">3.2 </bdi>Placeholder project 2</a></li></ol></li><li class="tocline"><a class="tocxref" href="#best-practices"><bdi class="secno">4. </bdi>Best practices</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#implicit-versus-explicit-tiling"><bdi class="secno">4.1 </bdi>Implicit versus explicit tiling</a></li><li class="tocline"><a class="tocxref" href="#performance"><bdi class="secno">4.2 </bdi>Performance</a></li><li class="tocline"><a class="tocxref" href="#coordinaat-referentie-systeem-crs"><bdi class="secno">4.3 </bdi>Coordinaat Referentie Systeem (CRS)</a></li><li class="tocline"><a class="tocxref" href="#geometric-error"><bdi class="secno">4.4 </bdi>Geometric error</a></li><li class="tocline"><a class="tocxref" href="#ontbrekende-specificaties-voor-tijdseries"><bdi class="secno">4.5 </bdi>Ontbrekende specificaties voor tijdseries</a></li><li class="tocline"><a class="tocxref" href="#ondergrondinformatie-in-clients"><bdi class="secno">4.6 </bdi>Ondergrondinformatie in clients</a></li></ol></li><li class="tocline"><a class="tocxref" href="#techniek-0"><bdi class="secno">5. </bdi>Techniek</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#algemeen"><bdi class="secno">5.1 </bdi>Algemeen</a></li><li class="tocline"><a class="tocxref" href="#tegelformaten-0"><bdi class="secno">5.2 </bdi>Tegelformaten</a></li><li class="tocline"><a class="tocxref" href="#mediatypes-en-encoding-0"><bdi class="secno">5.3 </bdi>Mediatypes en encoding</a></li><li class="tocline"><a class="tocxref" href="#requests-0"><bdi class="secno">5.4 </bdi>Requests</a></li></ol></li><li class="tocline"><a class="tocxref" href="#toolkit"><bdi class="secno">6. </bdi>Toolkit</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#handleidingen"><bdi class="secno">6.1 </bdi>Handleidingen</a></li><li class="tocline"><a class="tocxref" href="#clients-en-servers"><bdi class="secno">6.2 </bdi>Clients en servers</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#clients"><bdi class="secno">6.2.1 </bdi>Clients</a></li><li class="tocline"><a class="tocxref" href="#generators-en-servers"><bdi class="secno">6.2.2 </bdi>Generators en servers</a></li></ol></li><li class="tocline"><a class="tocxref" href="#x3d-tile-datasets"><bdi class="secno">6.3 </bdi>3D Tile Datasets</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#x3d-basisvoorziening"><bdi class="secno">6.3.1 </bdi>3D basisvoorziening</a></li><li class="tocline"><a class="tocxref" href="#x3d-tiles-nederland"><bdi class="secno">6.3.2 </bdi>3D Tiles Nederland</a></li></ol></li></ol></li></ol></nav>
  
  <section id="inleiding"><div class="header-wrapper"><h2 id="x1-inleiding"><bdi class="secno">1. </bdi>Inleiding</h2><a class="self-link" href="#inleiding" aria-label="Permalink for Section 1."></a></div>
<section id="wat-is-3d-tiling"><div class="header-wrapper"><h3 id="x1-1-wat-is-3d-tiling"><bdi class="secno">1.1 </bdi>Wat is 3D Tiling?</h3><a class="self-link" href="#wat-is-3d-tiling" aria-label="Permalink for Section 1.1"></a></div>
<p>Simpel gezegd: 3D Tiling is een techniek waarbij tegels met drie-dimensionale
data worden geserveerd van een server naar een client.</p>
<p>In computer graphics en 3D visualisatie is 3D Tiling een techniek die wordt
gebruikt om grote volumes ruimtelijke data efficiënt aan te bieden via het web.
Net als bij 2D Vector Tiles, waarbij een tweedimensionaal oppervlak wordt
verdeeld in kleinere tegels voor eenvoudigere verwerking, breidt 3D Tiling dit
concept uit naar drie dimensies, waardoor het streamen van complexe 3D-datasets
mogelijk wordt.</p>
</section><section id="waar-is-3d-tiling-voor-te-gebruiken"><div class="header-wrapper"><h3 id="x1-2-waar-is-3d-tiling-voor-te-gebruiken"><bdi class="secno">1.2 </bdi>Waar is 3D Tiling voor te gebruiken?</h3><a class="self-link" href="#waar-is-3d-tiling-voor-te-gebruiken" aria-label="Permalink for Section 1.2"></a></div>
<p>De toepassingen van 3D tiling bestrijken tal van domeinen, waaronder 3D
visualisaties voor stadsplanning, architectuur, gaming, virtual reality en
simulatie. Bijvoorbeeld, in georuimtelijke mapping maakt 3D tiling de
visualisatie mogelijk van gedetailleerde terreinmodellen, gebouwen en
infrastructuur in realtime of bijna-realtime omgevingen. In gaming en virtual
reality vergemakkelijkt het het renderen van meeslepende 3D-omgevingen met een
hoog niveau van detail en interactiviteit.</p>
</section><section id="wat-zijn-de-voor-en-nadelen-van-3d-tiling"><div class="header-wrapper"><h3 id="x1-3-wat-zijn-de-voor-en-nadelen-van-3d-tiling"><bdi class="secno">1.3 </bdi>Wat zijn de voor- en nadelen van 3D Tiling?</h3><a class="self-link" href="#wat-zijn-de-voor-en-nadelen-van-3d-tiling" aria-label="Permalink for Section 1.3"></a></div>
<p>Voordelen zijn:</p>
<p>1. Schaalbaarheid: 3D tiling maakt efficiënt streamen en renderen van grote en
complexe datasets mogelijk door ze op te delen in kleinere, beheersbare tegels.</p>
<p>2. Prestaties: Door gegevens in tegels te organiseren, vermindert 3D tiling de
rekenkundige overhead, wat leidt tot verbeterde rendeerprestaties en
responsiviteit.</p>
<p>3. Interoperabiliteit: Standaarden zoals 3D Tiles en de OGC 3D Tiles API
bevorderen interoperabiliteit tussen verschillende softwareplatforms, waardoor
naadloze integratie en uitwisseling van 3D gegevens mogelijk zijn.</p>
<p>4. Aanpasbaarheid: 3D tiling technieken kunnen worden aangepast aan
verschillende toepassingen en omgevingen, waardoor ontwikkelaars en gebruikers
flexibiliteit hebben in het beheren en visualiseren van ruimtelijke gegevens.</p>
<p>Nadelen:</p>
<p>1. Complexiteit: Het implementeren van 3D tiling oplossingen vereist expertise
in ruimtelijk gegevensbeheer, rending algoritmen en optimalisatietechnieken, wat
complexiteit toevoegt aan ontwikkelingsinspanningen.</p>
<p>2. Opslag Overhead: Het opslaan van voorgetilede datasets kan extra
opslagoverhead met zich meebrengen in vergelijking met ruwe gegevensformaten,
vooral voor datasets met verschillende niveaus van detail.</p>
<p>3. Verwerkings Overhead: Hoewel 3D tiling de rendeerprestaties verbetert, kan er
overhead zijn verbonden aan het tiling proces zelf, met name voor dynamische of
streamende datasets.</p>
<p>4. Uitdagingen in Standaardisatie: Het waarborgen van compatibiliteit en
naleving van 3D tiling standaarden over verschillende softwareplatforms en
ecosystemen kan uitdagingen met zich meebrengen.</p>
<p>In samenvatting biedt 3D tiling aanzienlijke voordelen voor het beheren en
visualiseren van grootschalige 3D-ruimtelijke gegevens, maar het presenteert ook
uitdagingen op het gebied van complexiteit, opslag, verwerking en
standaardisatie. Door deze factoren aan te pakken en gebruik te maken van
gestandaardiseerde specificaties zoals 3D Tiles en de OGC 3D Tiles API, kunnen
ontwikkelaars de kracht van 3D tiling benutten om de efficiëntie en
effectiviteit van verschillende toepassingen en workflows te verbeteren.</p>
</section></section>
  <section id="standaarden"><div class="header-wrapper"><h2 id="x2-standaarden"><bdi class="secno">2. </bdi>Standaarden</h2><a class="self-link" href="#standaarden" aria-label="Permalink for Section 2."></a></div>
<p>Dit hoofdstuk gaat in op enkele standaarden en techniek voor 3D Tiling.</p>
<p>Voor het serveren van 3D Tiles zijn er in het algemeen twee standaarden.</p>
<section id="ogc-3d-tiles-specification"><div class="header-wrapper"><h3 id="x2-1-ogc-3d-tiles-specification"><bdi class="secno">2.1 </bdi>OGC 3D Tiles specification</h3><a class="self-link" href="#ogc-3d-tiles-specification" aria-label="Permalink for Section 2.1"></a></div>
<p><a href="https://docs.ogc.org/cs/22-025r4/22-025r4.html">https://docs.ogc.org/cs/22-025r4/22-025r4.html</a></p>
<p>3D Tiles is een standaard voor het efficiënt streamen en renderen van grote
driedimensionale georuimtelijke datasets, zoals fotogrammetrie, BIM/CAD-modellen
en puntenwolken. Het definieert een gegevensstructuur en tegelformaten voor
renderbare inhoud zonder strikte visualisatieregels.</p>
<p>3D Tiles wordt beheerd door het Open Geospatial Consortium (OGC). De standaard
komt</p>
<p>Een 3D Tiles-dataset (tileset) bevat diverse tegelformaten georganiseerd in een
ruimtelijke structuur. Het is declaratief, uitbreidbaar en geschikt voor
verschillende soorten 3D-gegevens. De tegelformaten omvatten batched
3D-modellen, geïnstantieerde 3D-modellen, puntenwolken en samengestelde tegels.</p>
<p>De specificatie omvat ook 3D Tile Styles voor declaratieve styling van
tegelsets. Het is een open formaat dat niet gebonden is aan specifieke
leveranciers of technologieën.</p>
</section><section id="i3s"><div class="header-wrapper"><h3 id="x2-2-i3s"><bdi class="secno">2.2 </bdi>i3S</h3><a class="self-link" href="#i3s" aria-label="Permalink for Section 2.2"></a></div>
<p>I3S staat voor Indexed 3D Scene Layer en is een open standaard die is ontwikkeld
door Esri voor het efficiënt opslaan, delen en weergeven van grote en complexe
driedimensionale georuimtelijke gegevens. Het is vergelijkbaar met 3D Tiles van
het Open Geospatial Consortium (OGC) en wordt vaak gebruikt binnen de
GIS-gemeenschap.</p>
<p>I3S is geoptimaliseerd voor het werken met gegevens in de context van
web-gebaseerde toepassingen, waardoor het mogelijk is om grote 3D-scènes in
real-time te streamen en te visualiseren in webbrowsers of andere applicaties.
Het maakt gebruik van een combinatie van ruimtelijke indexering, tiling en
compressie om de prestaties te optimaliseren en de benodigde bandbreedte te
minimaliseren bij het overbrengen van 3D-gegevens over het web.</p>
<p>De I3S-specificatie omvat verschillende componenten, zoals de Scene Layer, de
Scene Layer Package en de Scene Layer Service, die samenwerken om 3D-gegevens
efficiënt te organiseren en weer te geven. Het wordt vaak gebruikt in combinatie
met Esri's ArcGIS-platform, maar is een open standaard die door andere
softwareleveranciers kan worden geïmplementeerd en gebruikt</p>
</section><section id="ogc-3d-tiles"><div class="header-wrapper"><h3 id="x2-3-ogc-3d-tiles"><bdi class="secno">2.3 </bdi>OGC 3D Tiles</h3><a class="self-link" href="#ogc-3d-tiles" aria-label="Permalink for Section 2.3"></a></div>
</section><section id="techniek"><div class="header-wrapper"><h3 id="x2-4-techniek"><bdi class="secno">2.4 </bdi>Techniek</h3><a class="self-link" href="#techniek" aria-label="Permalink for Section 2.4"></a></div>
<p>Deze paragraaf gaat dieper in op de techniek van OGC 3D Tiles.</p>
<p>In 3D Tiles verwijst een tegelset naar een verzameling tegels georganiseerd
binnen een ruimtelijke gegevensstructuur, vertegenwoordigd door een boom. Elke
tegelset wordt beschreven door minstens één JSON-bestand met metadata en een
hiërarchie van tegelobjecten, waarvan elke tegel renderbare inhoud kan bevatten.</p>
<section id="tegelformaten"><div class="header-wrapper"><h4 id="x2-4-1-tegelformaten"><bdi class="secno">2.4.1 </bdi>Tegelformaten</h4><a class="self-link" href="#tegelformaten" aria-label="Permalink for Section 2.4.1"></a></div>
<p>Het primaire tegelformaat voor 3D Tiles is glTF 2.0, een open specificatie
ontworpen voor efficiënte transmissie en laden van 3D-inhoud. Dit formaat omvat
geometrie, textuurinformatie en kan worden uitgebreid met metadata,
model-instanciëring en compressie. Het ondersteunt verschillende soorten
3D-inhoud zoals 3D-modellen en puntenwolken.</p>
<p>Voorbeeld GLTF</p>
<p>Naast glTF ondersteunt 3D Tiles ook de volgende tegelformaten:</p>
<p>1. Batched 3D Model (b3dm): Dit formaat wordt gebruikt voor heterogene
3D-modellen.</p>
<p>2. Instanced 3D Model (i3dm): Gebruikt voor het instanceren van 3D-modellen,
zoals bomen, windmolens, en bouten.</p>
<p>3. Point Cloud (pnts): Voor het weergeven van grote aantallen punten in een
puntenwolk.</p>
<p>4. Composite (cmpt): Hiermee kunnen tegels van verschillende formaten worden
samengevoegd tot één tegel.</p>
<p>Deze formaten bieden flexibiliteit voor het opslaan en renderen van diverse
soorten 3D-inhoud binnen de 3D Tiles-specificatie.</p>
</section><section id="mediatypes-en-encoding"><div class="header-wrapper"><h4 id="x2-4-2-mediatypes-en-encoding"><bdi class="secno">2.4.2 </bdi>Mediatypes en encoding</h4><a class="self-link" href="#mediatypes-en-encoding" aria-label="Permalink for Section 2.4.2"></a></div>
<p>Het bestandsformaat voor 3D Tiles bestaat uit:</p>
<p>- Voor tegelsetbestanden: .json-extensie met het Media Type "application/json".</p>
<p>Voorbeeld JSON</p>
<p>- Voor tegelinhoudsbestanden: de specifieke extensies en Media Type volgens de
specificatie van het tegelformaat.</p>
<p>Voorbeeld van een GLTF en B3DM?</p>
<p>- Voor metagegevensschema-bestanden: .json-extensie met het Media Type
"application/json".</p>
<p>- Voor tegelsetstijlbestanden: .json-extensie met het Media Type
"application/json".</p>
<p>- Voor JSON-subtree-bestanden: .json-extensie met het Media Type
"application/json".</p>
<p>- Voor binaire subtree-bestanden: .subtree-extensie met het Media Type
"application/octet-stream".</p>
<p>- Voor binaire bufferbestanden: .bin-extensie met het Media Type
"application/octet-stream".</p>
<p>Wat betreft de encoding:</p>
<p>- JSON-bestanden gebruiken UTF-8-encoding zonder BOM.</p>
<p>- Alle tekstuele strings in JSON gebruiken alleen het ASCII-tekenreeks-charset,
zonder JSON-escapen.</p>
<p>- Niet-ASCII-tekens die als eigenschapswaarden in JSON verschijnen, kunnen
worden geëscapet.</p>
<p>- Namen (sleutels) binnen JSON-objecten moeten uniek zijn, dus
duplicaat-sleutels zijn niet toegestaan.</p>
<p>- Sommige eigenschappen zijn gedefinieerd als integers in het schema. Dergelijke
waarden kunnen worden opgeslagen als decimalen met een nul fractiegedeelte of
met exponentnotatie, zoals gedefinieerd in RFC 8259, Sectie 6.</p>
</section><section id="requests"><div class="header-wrapper"><h4 id="x2-4-3-requests"><bdi class="secno">2.4.3 </bdi>Requests</h4><a class="self-link" href="#requests" aria-label="Permalink for Section 2.4.3"></a></div>
</section></section><section id="i3ds"><div class="header-wrapper"><h3 id="x2-5-i3ds"><bdi class="secno">2.5 </bdi>i3DS</h3><a class="self-link" href="#i3ds" aria-label="Permalink for Section 2.5"></a></div>
<p>…</p>
</section></section>
  <section id="praktijkvoorbeelden"><div class="header-wrapper"><h2 id="x3-praktijkvoorbeelden"><bdi class="secno">3. </bdi>Praktijkvoorbeelden</h2><a class="self-link" href="#praktijkvoorbeelden" aria-label="Permalink for Section 3."></a></div>
<p>Dit hoofdstuk beschrijft een aantal praktijkvoorbeelden van de toepassing van 3D
Tiles in verschillende projecten en use cases.</p>
<section id="placeholder-project-1"><div class="header-wrapper"><h3 id="x3-1-placeholder-project-1"><bdi class="secno">3.1 </bdi>Placeholder project 1</h3><a class="self-link" href="#placeholder-project-1" aria-label="Permalink for Section 3.1"></a></div>
<p>Lorem ipsum dolor sit amet.</p>
</section><section id="placeholder-project-2"><div class="header-wrapper"><h3 id="x3-2-placeholder-project-2"><bdi class="secno">3.2 </bdi>Placeholder project 2</h3><a class="self-link" href="#placeholder-project-2" aria-label="Permalink for Section 3.2"></a></div>
<p>Lorem ipsum dolor sit amet.</p>
</section></section>  
  <section id="best-practices"><div class="header-wrapper"><h2 id="x4-best-practices"><bdi class="secno">4. </bdi>Best practices</h2><a class="self-link" href="#best-practices" aria-label="Permalink for Section 4."></a></div>
<p>Dit hoofdstuk beschrijft een aantal best practices voor het serveren en
gebruiken van 3D tiles.</p>
<section id="implicit-versus-explicit-tiling"><div class="header-wrapper"><h3 id="x4-1-implicit-versus-explicit-tiling"><bdi class="secno">4.1 </bdi>Implicit versus explicit tiling</h3><a class="self-link" href="#implicit-versus-explicit-tiling" aria-label="Permalink for Section 4.1"></a></div>
<p><em>Wat is implicit en explicit tiling?</em></p>
<p><em>Hoe hier mee om te gaan bij het genereren/serveren van 3D Tiles?</em></p>
<p><em>Hoe hier mee om te gaan bij het gebruiken van 3D Tiles?</em></p>
</section><section id="performance"><div class="header-wrapper"><h3 id="x4-2-performance"><bdi class="secno">4.2 </bdi>Performance</h3><a class="self-link" href="#performance" aria-label="Permalink for Section 4.2"></a></div>
</section><section id="coordinaat-referentie-systeem-crs"><div class="header-wrapper"><h3 id="x4-3-coordinaat-referentie-systeem-crs"><bdi class="secno">4.3 </bdi>Coordinaat Referentie Systeem (CRS)</h3><a class="self-link" href="#coordinaat-referentie-systeem-crs" aria-label="Permalink for Section 4.3"></a></div>
<p><em>Wat is een CRS?</em></p>
</section><section id="geometric-error"><div class="header-wrapper"><h3 id="x4-4-geometric-error"><bdi class="secno">4.4 </bdi>Geometric error</h3><a class="self-link" href="#geometric-error" aria-label="Permalink for Section 4.4"></a></div>
<p><em>Wat is geometric error?</em></p>
<p>De ‘geometric error’ (geometrische fout) van een tegel vertelt ons hoe goed de
tegel de vorm van het originele object weergeeft. Het is een nummer dat aangeeft
hoeveel de vereenvoudigde versie van de tegel afwijkt van de echte vorm, gemeten
in meters.</p>
<p>Voor 3D Tiles wordt de geometrische fout van een tegel gebruikt om te bepalen
hoe gedetailleerd die tegel moet worden weergegeven. Dit wordt gedaan door de
tegels te organiseren in een hiërarchische boomstructuur, waarbij elk niveau van
de boom een verschillend niveau van detail vertegenwoordigt.</p>
<p>Wanneer een gebruiker bijvoorbeeld een 3D scène bekijkt op een computer of
mobiel apparaat, zal de client-implementatie de geometrische fout van elke tegel
evalueren. Als de geometrische fout van een tegel binnen een aanvaardbaar bereik
valt, wordt die tegel getoond aan de gebruiker. Als de fout te groot is, wat
betekent dat de tegel niet gedetailleerd genoeg is, zal de client-implementatie
ervoor kiezen om die tegel te verfijnen door kindertegels van hogere resolutie
te laden en te tonen.</p>
<p>De grootte van deze fout hangt af van hoe belangrijk het is om de details van
het object nauwkeurig weer te geven. Een hogere fout betekent dat het programma
eerder beslist om de tegel te verfijnen en de details weer te geven.</p>
<p><em>Hoe hier mee om te gaan bij het genereren/serveren van 3D Tiles?</em></p>
<p><em>Hoe hier mee om te gaan bij het gebruiken van 3D Tiles?</em></p>
</section><section id="ontbrekende-specificaties-voor-tijdseries"><div class="header-wrapper"><h3 id="x4-5-ontbrekende-specificaties-voor-tijdseries"><bdi class="secno">4.5 </bdi>Ontbrekende specificaties voor tijdseries</h3><a class="self-link" href="#ontbrekende-specificaties-voor-tijdseries" aria-label="Permalink for Section 4.5"></a></div>
</section><section id="ondergrondinformatie-in-clients"><div class="header-wrapper"><h3 id="x4-6-ondergrondinformatie-in-clients"><bdi class="secno">4.6 </bdi>Ondergrondinformatie in clients</h3><a class="self-link" href="#ondergrondinformatie-in-clients" aria-label="Permalink for Section 4.6"></a></div>
</section></section>
  <section id="techniek-0"><div class="header-wrapper"><h2 id="x5-techniek"><bdi class="secno">5. </bdi>Techniek</h2><a class="self-link" href="#techniek-0" aria-label="Permalink for Section 5."></a></div>
<p>Dit hoofdstuk gaat dieper in op de techniek van OGC 3D Tiles.</p>
<section id="algemeen"><div class="header-wrapper"><h3 id="x5-1-algemeen"><bdi class="secno">5.1 </bdi>Algemeen</h3><a class="self-link" href="#algemeen" aria-label="Permalink for Section 5.1"></a></div>
<p>In 3D Tiles verwijst een tegelset naar een verzameling tegels georganiseerd
binnen een ruimtelijke gegevensstructuur, vertegenwoordigd door een boom. Elke
tegelset wordt beschreven door minstens één JSON-bestand met metadata en een
hiërarchie van tegelobjecten, waarvan elke tegel renderbare inhoud kan bevatten.</p>
</section><section id="tegelformaten-0"><div class="header-wrapper"><h3 id="x5-2-tegelformaten"><bdi class="secno">5.2 </bdi>Tegelformaten</h3><a class="self-link" href="#tegelformaten-0" aria-label="Permalink for Section 5.2"></a></div>
<p>Het primaire tegelformaat voor 3D Tiles is glTF 2.0, een open specificatie
ontworpen voor efficiënte transmissie en laden van 3D-inhoud. Dit formaat omvat
geometrie, textuurinformatie en kan worden uitgebreid met metadata,
model-instanciëring en compressie. Het ondersteunt verschillende soorten
3D-inhoud zoals 3D-modellen en puntenwolken.</p>
<p>Voorbeeld GLTF</p>
<p>Naast glTF ondersteunt 3D Tiles ook de volgende tegelformaten:</p>
<p>1. Batched 3D Model (b3dm): Dit formaat wordt gebruikt voor heterogene
3D-modellen.</p>
<p>2. Instanced 3D Model (i3dm): Gebruikt voor het instanceren van 3D-modellen,
zoals bomen, windmolens, en bouten.</p>
<p>3. Point Cloud (pnts): Voor het weergeven van grote aantallen punten in een
puntenwolk.</p>
<p>4. Composite (cmpt): Hiermee kunnen tegels van verschillende formaten worden
samengevoegd tot één tegel.</p>
<p>Deze formaten bieden flexibiliteit voor het opslaan en renderen van diverse
soorten 3D-inhoud binnen de 3D Tiles-specificatie.</p>
</section><section id="mediatypes-en-encoding-0"><div class="header-wrapper"><h3 id="x5-3-mediatypes-en-encoding"><bdi class="secno">5.3 </bdi>Mediatypes en encoding</h3><a class="self-link" href="#mediatypes-en-encoding-0" aria-label="Permalink for Section 5.3"></a></div>
<p>Het bestandsformaat voor 3D Tiles bestaat uit:</p>
<p>- Voor tegelsetbestanden: .json-extensie met het Media Type "application/json".</p>
<p>Voorbeeld JSON</p>
<p>- Voor tegelinhoudsbestanden: de specifieke extensies en Media Type volgens de
specificatie van het tegelformaat.</p>
<p>Voorbeeld van een GLTF en B3DM?</p>
<p>- Voor metagegevensschema-bestanden: .json-extensie met het Media Type
"application/json".</p>
<p>- Voor tegelsetstijlbestanden: .json-extensie met het Media Type
"application/json".</p>
<p>- Voor JSON-subtree-bestanden: .json-extensie met het Media Type
"application/json".</p>
<p>- Voor binaire subtree-bestanden: .subtree-extensie met het Media Type
"application/octet-stream".</p>
<p>- Voor binaire bufferbestanden: .bin-extensie met het Media Type
"application/octet-stream".</p>
<p>Wat betreft de encoding:</p>
<p>- JSON-bestanden gebruiken UTF-8-encoding zonder BOM.</p>
<p>- Alle tekstuele strings in JSON gebruiken alleen het ASCII-tekenreeks-charset,
zonder JSON-escapen.</p>
<p>- Niet-ASCII-tekens die als eigenschapswaarden in JSON verschijnen, kunnen
worden geëscapet.</p>
<p>- Namen (sleutels) binnen JSON-objecten moeten uniek zijn, dus
duplicaat-sleutels zijn niet toegestaan.</p>
<p>- Sommige eigenschappen zijn gedefinieerd als integers in het schema. Dergelijke
waarden kunnen worden opgeslagen als decimalen met een nul fractiegedeelte of
met exponentnotatie, zoals gedefinieerd in RFC 8259, Sectie 6.</p>
</section><section id="requests-0"><div class="header-wrapper"><h3 id="x5-4-requests"><bdi class="secno">5.4 </bdi>Requests</h3><a class="self-link" href="#requests-0" aria-label="Permalink for Section 5.4"></a></div>
</section></section>  
  <section id="toolkit"><div class="header-wrapper"><h2 id="x6-toolkit"><bdi class="secno">6. </bdi>Toolkit</h2><a class="self-link" href="#toolkit" aria-label="Permalink for Section 6."></a></div>
<section id="handleidingen"><div class="header-wrapper"><h3 id="x6-1-handleidingen"><bdi class="secno">6.1 </bdi>Handleidingen</h3><a class="self-link" href="#handleidingen" aria-label="Permalink for Section 6.1"></a></div>
<p><a href="https://3dtilesnederland.nl/quick-start-guide/">https://3dtilesnederland.nl/quick-start-guide/</a></p>
<p><a href="https://github.com/Geodan/mapbox-3dtiles?tab=readme-ov-file">https://github.com/Geodan/mapbox-3dtiles?tab=readme-ov-file</a></p>
</section><section id="clients-en-servers"><div class="header-wrapper"><h3 id="x6-2-clients-en-servers"><bdi class="secno">6.2 </bdi>Clients en servers</h3><a class="self-link" href="#clients-en-servers" aria-label="Permalink for Section 6.2"></a></div>
<p><a href="https://github.com/pka/awesome-3d-tiles?tab=readme-ov-file">https://github.com/pka/awesome-3d-tiles?tab=readme-ov-file</a></p>
<section id="clients"><div class="header-wrapper"><h4 id="x6-2-1-clients"><bdi class="secno">6.2.1 </bdi>Clients</h4><a class="self-link" href="#clients" aria-label="Permalink for Section 6.2.1"></a></div>
<p>Cesium</p>
<p>MapboxGL</p>
<p>Unity</p>
<p>Unreal</p>
</section><section id="generators-en-servers"><div class="header-wrapper"><h4 id="x6-2-2-generators-en-servers"><bdi class="secno">6.2.2 </bdi>Generators en servers</h4><a class="self-link" href="#generators-en-servers" aria-label="Permalink for Section 6.2.2"></a></div>
<p>pg2b3dm</p>
</section></section><section id="x3d-tile-datasets"><div class="header-wrapper"><h3 id="x6-3-3d-tile-datasets"><bdi class="secno">6.3 </bdi>3D Tile Datasets</h3><a class="self-link" href="#x3d-tile-datasets" aria-label="Permalink for Section 6.3"></a></div>
<p>Beheerde datasets:</p>
<section id="x3d-basisvoorziening"><div class="header-wrapper"><h4 id="x6-3-1-3d-basisvoorziening"><bdi class="secno">6.3.1 </bdi>3D basisvoorziening</h4><a class="self-link" href="#x3d-basisvoorziening" aria-label="Permalink for Section 6.3.1"></a></div>
<p><a href="https://api.pdok.nl/kadaster/3d-basisvoorziening/ogc/v1_0">https://api.pdok.nl/kadaster/3d-basisvoorziening/ogc/v1_0</a></p>
<p>Project-datasets</p>
</section><section id="x3d-tiles-nederland"><div class="header-wrapper"><h4 id="x6-3-2-3d-tiles-nederland"><bdi class="secno">6.3.2 </bdi>3D Tiles Nederland</h4><a class="self-link" href="#x3d-tiles-nederland" aria-label="Permalink for Section 6.3.2"></a></div>
<p><a href="https://3dtilesnederland.nl/3d-tilesets/">https://3dtilesnederland.nl/3d-tilesets/</a></p>
</section></section></section>
  



<p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><div class="sidelabel">Geonovum Handreiking - Werkversie</div><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>